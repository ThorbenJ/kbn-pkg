# kbn-pkg

Kibana @kbn packages prebuilt and ready to use;
by building Kibana Typescript packages for reuse in nodejs


## Install

Grab the package file from Github releases and install with npm

```
npm install ./kbn-pkg-a.b.c.tgz
```

(Pending publishing this on npm)

### Note

1) Unless you intend to build kibana (and have nix installed) cloning this repo will not get you a working
module. Use the release module packs.

2) Even though its not publish you can still add it to your package.json:
```
  ...
  "dependencies": {
    "kbn-pkg": "https://github.com/ThorbenJ/kbn-pkg/releases/latest/download/kbn-pkg.tgz"
  },
  ...
```

## Usage

Example:
```
const KP = require("kbn-pkg")

var dsl = KP.es_query().buildEsQuery(null, {language:"kuery", query:"field1:* AND field2:value"})

```

KP.thing() returns the `@kbn/` pacakge called "thing".
See `bundleDependencies` in `package.json` to know which are avaiable.

## Building

 - `./clean.sh` - Initalise or clean up
 - `./build.sh` - Build enough of kibana to get the required modules
 - `npm install` - Link the target modules from kibana
 - `npm pack` - Get a package with all needed modules bundled in


## Licensing

This pacakge uses code generated by the Kibana build system. As such all `@kbn` modules shipped
with this package are under Kibana's dual license: SSPL or Elastic Licence v2.
Please see: https://github.com/elastic/kibana/blob/main/LICENSE.txt
and https://github.com/elastic/kibana/blob/main/NOTICE.txt for copyright notices.

Everything from this project itself is under the Apache 2.0 license.

